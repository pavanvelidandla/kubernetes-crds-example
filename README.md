# kubernetes-crds-example
The idea of this project is to create a CRD in kubernetes and run a controller for this CRD.
The CRD take a git url and then controller creates a config map based of this GIT URL when ever a new CRD is 
created or an existing one is updated. 

# Generating DeepCopy methods
Starting kubernetes 1.7 we need to generate Deepcopy methods for Custom Resources to be able to write and implement controllers. These can be auto generated by running scripts provided in hack directory. Refer to the blog below by "STEFAN SCHIMANSKI" for more details. 
https://blog.openshift.com/kubernetes-deep-dive-code-generation-customresources/  

## Getting Started

First register the custom resource definition:

```
kubectl apply -f artifacts/ConfigGit.yaml
```
Running the above command creates a CustomResource in the kubernetes. 

Then add an example of the `ConfigFromGit` kind:

```
kubectl apply -f artifacts/configsfromgit.yaml
```

This creates a resouce mygitconfigs of kind ConfigFromGit

Finally build and run the example:

```
cd wrapper 
go run main.go -kubeconfig ~/.kube/config
```
# kubernetes-crds-example
